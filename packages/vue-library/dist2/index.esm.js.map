{"version":3,"file":"index.esm.js","sources":["../dist-transpiled/vue-component-lib/utils.js","../dist-transpiled/components.js","../dist-transpiled/plugin.js"],"sourcesContent":["import { defineComponent, getCurrentInstance, h, inject, ref } from 'vue';\nconst UPDATE_VALUE_EVENT = 'update:modelValue';\nconst MODEL_VALUE = 'modelValue';\nconst ROUTER_LINK_VALUE = 'routerLink';\nconst NAV_MANAGER = 'navManager';\nconst ROUTER_PROP_PREFIX = 'router';\nconst ARIA_PROP_PREFIX = 'aria';\nconst EMPTY_PROP = Symbol();\nconst DEFAULT_EMPTY_PROP = { default: EMPTY_PROP };\nconst getComponentClasses = (classes) => {\n    return (classes === null || classes === void 0 ? void 0 : classes.split(' ')) || [];\n};\nconst getElementClasses = (ref, componentClasses, defaultClasses = []) => {\n    var _a;\n    return [...Array.from(((_a = ref.value) === null || _a === void 0 ? void 0 : _a.classList) || []), ...defaultClasses].filter((c, i, self) => !componentClasses.has(c) && self.indexOf(c) === i);\n};\nexport const defineContainer = (name, defineCustomElement, componentProps = [], modelProp, modelUpdateEvent, externalModelUpdateEvent) => {\n    if (defineCustomElement !== undefined) {\n        defineCustomElement();\n    }\n    const Container = defineComponent((props, { attrs, slots, emit }) => {\n        var _a;\n        let modelPropValue = props[modelProp];\n        const containerRef = ref();\n        const classes = new Set(getComponentClasses(attrs.class));\n        const onVnodeBeforeMount = (vnode) => {\n            if (vnode.el) {\n                const eventsNames = Array.isArray(modelUpdateEvent) ? modelUpdateEvent : [modelUpdateEvent];\n                eventsNames.forEach((eventName) => {\n                    vnode.el.addEventListener(eventName.toLowerCase(), (e) => {\n                        modelPropValue = (e === null || e === void 0 ? void 0 : e.target)[modelProp];\n                        emit(UPDATE_VALUE_EVENT, modelPropValue);\n                        if (externalModelUpdateEvent) {\n                            emit(externalModelUpdateEvent, e);\n                        }\n                    });\n                });\n            }\n        };\n        const currentInstance = getCurrentInstance();\n        const hasRouter = (_a = currentInstance === null || currentInstance === void 0 ? void 0 : currentInstance.appContext) === null || _a === void 0 ? void 0 : _a.provides[NAV_MANAGER];\n        const navManager = hasRouter ? inject(NAV_MANAGER) : undefined;\n        const handleRouterLink = (ev) => {\n            const { routerLink } = props;\n            if (routerLink === EMPTY_PROP)\n                return;\n            if (navManager !== undefined) {\n                let navigationPayload = { event: ev };\n                for (const key in props) {\n                    const value = props[key];\n                    if (props.hasOwnProperty(key) && key.startsWith(ROUTER_PROP_PREFIX) && value !== EMPTY_PROP) {\n                        navigationPayload[key] = value;\n                    }\n                }\n                navManager.navigate(navigationPayload);\n            }\n            else {\n                console.warn('Tried to navigate, but no router was found. Make sure you have mounted Vue Router.');\n            }\n        };\n        return () => {\n            modelPropValue = props[modelProp];\n            getComponentClasses(attrs.class).forEach((value) => {\n                classes.add(value);\n            });\n            const oldClick = props.onClick;\n            const handleClick = (ev) => {\n                if (oldClick !== undefined) {\n                    oldClick(ev);\n                }\n                if (!ev.defaultPrevented) {\n                    handleRouterLink(ev);\n                }\n            };\n            let propsToAdd = {\n                ref: containerRef,\n                class: getElementClasses(containerRef, classes),\n                onClick: handleClick,\n                onVnodeBeforeMount: modelUpdateEvent ? onVnodeBeforeMount : undefined,\n            };\n            for (const key in props) {\n                const value = props[key];\n                if ((props.hasOwnProperty(key) && value !== EMPTY_PROP) || key.startsWith(ARIA_PROP_PREFIX)) {\n                    propsToAdd[key] = value;\n                }\n            }\n            if (modelProp) {\n                if (props[MODEL_VALUE] !== EMPTY_PROP) {\n                    propsToAdd = Object.assign(Object.assign({}, propsToAdd), { [modelProp]: props[MODEL_VALUE] });\n                }\n                else if (modelPropValue !== EMPTY_PROP) {\n                    propsToAdd = Object.assign(Object.assign({}, propsToAdd), { [modelProp]: modelPropValue });\n                }\n            }\n            return h(name, propsToAdd, slots.default && slots.default());\n        };\n    });\n    if (typeof Container !== 'function') {\n        Container.name = name;\n        Container.props = {\n            [ROUTER_LINK_VALUE]: DEFAULT_EMPTY_PROP,\n        };\n        componentProps.forEach((componentProp) => {\n            Container.props[componentProp] = DEFAULT_EMPTY_PROP;\n        });\n        if (modelProp) {\n            Container.props[MODEL_VALUE] = DEFAULT_EMPTY_PROP;\n            Container.emits = [UPDATE_VALUE_EVENT, externalModelUpdateEvent];\n        }\n    }\n    return Container;\n};\n//# sourceMappingURL=utils.js.map","import { defineContainer } from './vue-component-lib/utils';\nexport const MyComponent = defineContainer('my-component', undefined, [\n    'first',\n    'middle',\n    'last'\n]);\n//# sourceMappingURL=components.js.map","import { applyPolyfills, defineCustomElements } from '@mifotest/stencil-library/loader';\nexport const ComponentLibrary = {\n    async install() {\n        applyPolyfills().then(() => {\n            defineCustomElements();\n        });\n    },\n};\n//# sourceMappingURL=plugin.js.map"],"names":[],"mappings":"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"}